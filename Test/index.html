<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Accueil</title>
    <link rel="stylesheet" href="css/accueil/main.css">

    <!--<title> Responsive Sidebar Menu  | CodingLab </title>-->
    <link rel="stylesheet" href="../src/css/style.css">
	  <link rel="shortcut icon" href="../src/img/favicon.png" />
    <!-- Boxicons CDN Link -->
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
</head>


<body>
  <div class="sidebar">
    <div class="logo-details">
      <i class='bx bxl-c-plus-plus icon'></i>
        <div class="logo_name">CNFS de l'Aube</div>
        <i class='bx bx-menu' id="btn" ></i>
    </div>
    <ul class="nav-list">
      <li>
        <a href="index.html">
          <i class='bx bx-home'></i>
          <span class="links_name">Accueil</span>
        </a>
         <span class="tooltip">Accueil</span>
      </li>
      <li>
       <a href="cartographie.html">
         <i class='bx bx-user' ></i>
         <span class="links_name">Acteurs</span>
       </a>
       <span class="tooltip">Acteurs</span>
     </li>
     <li>
       <a href="administrations.html">
         <i class='bx bx-grid-alt' ></i>
         <span class="links_name">Administrations</span>
       </a>
       <span class="tooltip">Administrations</span>
     </li>
     <li>
       <a href="/ressources.html">
         <i class='bx bx-folder' ></i>
         <span class="links_name">Ressourcerie</span>
       </a>
       <span class="tooltip">Ressourcerie</span>
     </li>
     <li>
       <a href="liens.html">
         <i class='bx bx-link' ></i>
         <span class="links_name">Liens utiles</span>
       </a>
       <span class="tooltip">liens utiles</span>
     </li>
     <li>
       <a href="rencontres.html">
         <i class='bx bx-calendar-event' ></i>
         <span class="links_name">Rencontres mensuelles</span>
       </a>
       <span class="tooltip">Rencontres mensuelles</span>
     </li>
     <li>
       <a href="discord.html">
         <i class='bx bxl-discord' ></i>
         <span class="links_name">Discord</span>
       </a>
       <span class="tooltip">Discord</span>
     </li>
     <li class="profile">
         <div class="profile-details">
           <!--<img src="profile.jpg" alt="profileImg">-->
           <div class="name_job">
             <div class="name">Olivier</div>
             <div class="job">CNFS</div>
           </div>
         </div>
     </li>
    </ul>
  </div>
  <section>
    <h1 id="title">Voici nos thématiques : </h1>

    <div id="carte"></div>
  </section>

   


    
    <script>

        function removeDiacritics(str) {
    return str.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
  }


      fetch('js/data.json')
        .then(function(response) {
          console.log("Données chargées");
          return response.json();
        })
        .then(function(dataLoaded) {
          let table = "";
          dataLoaded.forEach((element) => {
            table += `
              <div class="card_container" onclick="window.location='${removeDiacritics(element.titre).toLowerCase()}'">
                <div class="card">
                  <div class="img_card" style="background:${element.color}">
                    <img src="${element.img}" alt="${element.titre}">
                  </div>
                  <div class="title_card">
                    ${element.titre}
                  </div>
                  <div class="description_card">
                    ${element.description}
                  </div>
                </div>
    
                <div class="composants_card" style="background:${element.color}" >
                  <div class="info_card">
                    <p>Nombre d'ateliers : ${element.nombres_ateliers}</p>
                  </div>
                </div>
              </div>`;
          });
          document.getElementById("carte").innerHTML = table;
        });
    </script>

<script>
  let sidebar = document.querySelector(".sidebar");
  let closeBtn = document.querySelector("#btn");
  let searchBtn = document.querySelector(".bx-search");

  closeBtn.addEventListener("click", ()=>{
    sidebar.classList.toggle("open");
    menuBtnChange();//calling the function(optional)
  });

  searchBtn.addEventListener("click", ()=>{ // Sidebar open when you click on the search iocn
    sidebar.classList.toggle("open");
    menuBtnChange(); //calling the function(optional)
  });

  // following are the code to change sidebar button(optional)
  function menuBtnChange() {
   if(sidebar.classList.contains("open")){
     closeBtn.classList.replace("bx-menu", "bx-menu-alt-right");//replacing the iocns class
   }else {
     closeBtn.classList.replace("bx-menu-alt-right","bx-menu");//replacing the iocns class
   }
  }
  </script>
  <script type="text/javascript" language="javascript">
function ouvrirOnglet(evt,nomRubrique)
{
var i, tab, onglets;
tab = document.getElementsByClassName("rubrique");

for (i = 0; i < tab.length; i++)
{
tab[i].style.display = "none";
}
onglets = document.getElementsByClassName("onglet");
for (i = 0; i < onglets.length; i++)
{
onglets[i].className = onglets[i].className.replace(" actif","");
}
document.getElementById(nomRubrique).style.display = "block";
evt.currentTarget.className += " actif";
}
</script>


</body>

</html>